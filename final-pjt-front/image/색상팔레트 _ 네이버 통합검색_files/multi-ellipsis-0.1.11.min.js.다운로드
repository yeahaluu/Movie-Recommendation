!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Ellipsis=e():t.Ellipsis=e()}(window,(function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=3)}([function(t,e){var i;(i={}).typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i.createClass=function(){var t,e=!!Object.defineProperty;if(e)try{Object.defineProperty({},"",{})}catch(t){e=!1}function i(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),t(e,r)}}return t=e?function(t,e){Object.defineProperty(t,e.key,e)}:function(t,e){t[e.key]=e.value},function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),i.classCallCheck=function(t,e){},i.inherits=i.inheritsLoose=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i.assertThisInitialized=function(t){return t},i.possibleConstructorReturn=function(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?i.assertThisInitialized(t):e},t.exports=i},function(t,e,i){(function(e){var i=function(){function t(t,i){void 0===i&&(i={}),this.options=e.extend(!0,{ellipsisSign:"...",rotation:!1},i),this.$el=e(t),this.init(),!1!==this.options.rotation&&this.attachRotationEvent()}var i=t.prototype;return i.attachRotationEvent=function(){var t=this;this.onRotate=function(){t.isApplied?t.revert().work():t.work().expand()},e(window).on("rotate",this.onRotate)},i.expand=function(){this.revert(),this.setStyleVisible()},i.detachRotationEvent=function(){e(window).off("rotate",this.onRotate)},i.init=function(){return this.items=this.getItems(),this.originalHeight=this.getAreaHeight(),this.originalCss=this.$el.attr("style"),this.originalHtml=this.getOriginalHTML(),this.mountChild(),this.work(),this},i.getOriginalHTML=function(){return this.$el.html()},i.mountChild=function(){this.$tail=this.$el.find("._tail")},i.revert=function(){return this.revertItem(),this.isApplied=!1,this},i.revertItem=function(){this.$el.html(this.originalHtml),this.mountChild()},i.destroy=function(){this.revert(),this.detachRotationEvent(),this.$el=null,this.$tail=null,this.isApplied=null,this.items=null,this.originalCss=null,this.originalHeight=null,this.originalHtml=null},i.getAreaHeight=function(){return parseInt(this.$el.css("max-height"),10)},i.setStyleVisible=function(){var t=this.$el.get(0),e=parseFloat(this.$el.css("padding-right"))+parseFloat(this.$el.css("padding-left")),i=t?t.getBoundingClientRect().width-e:"0px";this.$el.css({overflow:"visible","max-height":"99999px",width:i})},i.setOriginalStyle=function(){this.$el.attr("style",this.originalCss)},i.work=function(){if(!this.items||!this.items.length)return this;this.setStyleVisible(),this.isApplied=!0;var t=this.checkOverflow();return t?(this.renderEllipsisSign(),this.$tail.css("display",""),this.crop(this.items.length,t,parseInt(this.items.length/2,10)),this.setOriginalStyle(),this):(this.$tail.css("display","none"),this.setOriginalStyle(),this)},i.crop=function(t,e,i){var n=t+(e?-1:1)*i;this.renderItem(this.left(n+1));var r=this.checkOverflow();this.renderItem(this.left(n));var s=this.checkOverflow();return r&&!s?this:(this.crop(n,s,Math.ceil(i/2)),this)},i.checkOverflow=function(){return this.$el.height()>this.originalHeight},i.getItems=function(){return this},i.left=function(t){return this},i.renderEllipsisSign=function(){return this},i.renderItem=function(t){return this},t}();t.exports=i}).call(this,i(2))},function(t,e){t.exports=function(){function t(e,i){return new t.fn.init(e,i)}window.jQuery.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(i,n){var r=window.jQuery.fn.init.call(this,i,n,e);return r instanceof t?r:t(r)},t.fn.init.prototype=t.fn;var e=t(document);return t}.call(window.jQuery)},function(t,e,i){var n=i(4),r=i(5),s=i(6),o=i(8),l=i(9);t.exports={TextEllipsis:n,HtmlTextEllipsis:r,TagEllipsis:o,PairEllipsis:s,PrevEllipsis:l}},function(t,e,i){(function(e){var n=function(t){function i(){return t.apply(this,arguments)||this}e.inheritsLoose(i,t);var n=i.prototype;return n.getItems=function(){return this.$el.find("._text").eq(0).text()},n.left=function(t){return this.items.slice(0,t)},n.renderItem=function(t){var e=this.options.ellipsisSign;return this.$el.find("._text").text(""+t+e),this},n.getOriginalHTML=function(){return this.$el.find("._text").text()},n.revertItem=function(){this.$el.find("._text").text(this.originalHtml)},i}(i(1));t.exports=n}).call(this,i(0))},function(t,e,i){(function(e){var n=function(t){function i(){return t.apply(this,arguments)||this}e.inheritsLoose(i,t);var n=i.prototype;return n.getItems=function(){return this.$el.find("._text").eq(0).html()},n.getOriginalHTML=function(){return this.getItems()},n.revertItem=function(){this.$el.find("._text").html(this.originalHtml)},n.left=function(t){return this.items.slice(0,t)},n.renderItem=function(t){var e=this.options.ellipsisSign,i=this.$el.find("._text");return i.html(""+t),i.html(""+i.html()+e),this},i}(i(1));t.exports=n}).call(this,i(0))},function(t,e,i){(function(e,n){var r=i(1),s=i(7),o=function(t){function i(){return t.apply(this,arguments)||this}e.inheritsLoose(i,t);var r=i.prototype;return r.getItems=function(){return s(this.$el.find("._key, ._value").map((function(t,e){return n(e)})),2)},r.left=function(t){return this.items.slice(0,t)},r.renderEllipsisSign=function(){var t=this.options.ellipsisSign,e=this.items[this.items.length-1];return e[1]?e[1].after(t):e[0]&&e[0].after(t),this},r.renderItem=function(t){return this.items.forEach((function(e,i){var n=e[0],r=e[1];i<t.length?(n&&n.show(),r&&r.show()):(n&&n.hide(),r&&r.hide())})),this},i}(r);t.exports=o}).call(this,i(0),i(2))},function(t,e){var i=1/0,n=9007199254740991,r=17976931348623157e292,s=NaN,o="[object Function]",l="[object GeneratorFunction]",u="[object Symbol]",h=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,c=/^0o[0-7]+$/i,p=/^(?:0|[1-9]\d*)$/,d=parseInt,g=Object.prototype.toString,m=Math.ceil,v=Math.max;function y(t,e,i){var n=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(i=i>r?r:i)<0&&(i+=r),r=e>i?0:i-e>>>0,e>>>=0;for(var s=Array(r);++n<r;)s[n]=t[n+e];return s}function x(t,e,i){if(!b(i))return!1;var r=typeof e;return!!("number"==r?function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=b(t)?g.call(t):"";return e==o||e==l}(t)}(i)&&function(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||p.test(t))&&t>-1&&t%1==0&&t<e}(e,i.length):"string"==r&&e in i)&&function(t,e){return t===e||t!=t&&e!=e}(i[e],t)}function b(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=function(t,e,n){e=(n?x(t,e,n):void 0===e)?1:v(function(t){var e=function(t){if(!t)return 0===t?t:0;if((t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&g.call(t)==u}(t))return s;if(b(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=b(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(h,"");var i=f.test(t);return i||c.test(t)?d(t.slice(2),i?2:8):a.test(t)?s:+t}(t))===i||t===-i){return(t<0?-1:1)*r}return t==t?t:0}(t),n=e%1;return e==e?n?e-n:e:0}(e),0);var o=t?t.length:0;if(!o||e<1)return[];for(var l=0,p=0,_=Array(m(o/e));l<o;)_[p++]=y(t,l,l+=e);return _}},function(t,e,i){(function(e,n){var r=function(t){function i(){return t.apply(this,arguments)||this}e.inheritsLoose(i,t);var r=i.prototype;return r.getItems=function(){return this.$el.find("._tag").map((function(t,e){return n(e)}))},r.left=function(t){return this.items.slice(0,t)},r.renderEllipsisSign=function(){var t=this.options.ellipsisSign;return this.items[this.items.length-1].after(t),this},r.revertItem=function(){this.items.each((function(t,e){n(e).show()}))},r.renderItem=function(t){return this.items.each((function(e,i){e<t.length?i.show():i.hide()})),this},i}(i(1));t.exports=r}).call(this,i(0),i(2))},function(t,e,i){(function(n){var r,s;s=n,function(n,s){t.exports?t.exports=s():void 0===(r=function(){return s()}.call(e,i,e,t))||(t.exports=r)}(0,(function(){var t=0,e=eg.Class.extend(eg.Component,{construct:function(e,i){var n;this.option({ellipsisSign:"...",handleRotateEvent:!0}),this.option(i||{}),(n=s(e)).get(0)&&(n.attr("data-ellipsis-managed",t++),this._el=n.get(0),this._$el=n,this._text=n.find("._text").text(),this._style=n.attr("style")),this.work(),n.on("click","._unomit",s.proxy(this,"_onUnomitClick"))},isOmitted:function(){return"true"===s(this._el).attr("data-ellipsis-omitted")},destroy:function(){s(this._el).off("click","._unomit",this._onUnomitClick),this._el=this._text=null},row:function(){return Math.floor(this._el.clientHeight/this._oneLineHeight)},revert:function(){return s(this._el).attr("style",this._style).attr("data-ellipsis-row",this.row()).attr("data-ellipsis-omitted","false").find("._text").text(this._text),this},work:function(){if(this._el){var t=s(this._el).attr("style",this._style).find("._text").text(this._text).end(),e=t.find("._text"),i=t.find("._tail"),n=t.get(0).getBoundingClientRect().width||parseInt(t.css("width"),10),r=parseFloat(t.css("padding-left"))+parseFloat(t.css("padding-right")),o=t.height(),l=s(this._el.cloneNode(!0)),u=s(l.find("._text")),h=u.text(),a=s(l.find("._tail")),f=o<1,c="hidden"!==t.css("overflow")&&"visible"!==t.css("overflow"),p=!u.get(0),d=o<t.css("max-height","99999px").height();t.attr("style",this._style);var g=!1;if(!(f||c||p)){if(l.css({position:"absolute",overflow:"visible"}).css({height:"auto","max-height":"99999px",width:n-r+"px"}),t.after(l).attr("data-ellipsis-omitted",g),d&&this._reduce(o,l,u,u.text()))for(h=u.text();h.length&&l.height()>o;)h=h.substr(0,h.length-1),u.text(h+this.option("ellipsisSign")),a.get(0)&&(a.css("display",""),i.css("display","")),!g&&t.attr("data-ellipsis-omitted","true"),g=!0;return e.text(u.text()),u.text("A"),this._oneLineHeight=l.height(),t.attr("data-ellipsis-row",this.row()),l.remove(),this}}},unomit:function(){return this.revert(),s(this._el).css("max-height","99999px").attr("data-ellipsis-omitted","false"),s(this._el).find("._tail").hide(),this},_reduce:function(t,e,i,n){var r=Math.ceil(n.length/2),s=n.substr(0,r),o=n.substr(r);return i.text(s),e.height()>t?this._reduce(t,e,i,s):this._grow(t,e,i,s,o)},_grow:function(t,e,i,n,r){var s=Math.ceil(r.length/2),o=r.substr(0,s),l=r.substr(s);return i.text(n+o),!(e.height()<=t)||this._grow(t,e,i,n+o,l)},_onUnomitClick:function(t){t.preventDefault(),this.unomit()}}),i=[],n=function(t){t&&t.option("handleRotateEvent")&&t.revert().work()};return s(window).on("rotate",(function(t){i.forEach(n)})),s(window).on("pageshow",(function(t){t.originalEvent.persisted&&i.forEach(n)})),{work:function(t,n){var r=s(t),o=r.length>2?r:r.hasClass("_ellipsis")?r:r.find("._ellipsis");return Array.prototype.push.apply(i,s.grep(o.map((function(t,r){var o=i[parseInt(s(r).attr("data-ellipsis-managed"),10)];return o?(o.revert().work(),null):new e(r,n)})),(function(t){return!!t}))),this},unomit:function(){return s.map(i,(function(t){t.unomit()})),this},get:function(t){return arguments.length?(t=s.isNumeric(t)?t:s(t).attr("data-ellipsis-managed"),i[parseInt(t,10)]):i.concat()},rows:function(){return s.map(i,(function(t){return t.row()}))},revert:function(){return s.map(i,(function(t){t.revert()})),this},destroy:function(){return s.map(i,(function(t){t.destroy()})),this},reset:function(){return i.length=t=0,this},VERSION:"4.0.1"}}))}).call(this,i(2))}])}));